<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ø§ÛŒØ±Ø§Ù†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(-45deg, #0f172a, #1e293b, #334155, #475569);
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
        }
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .container {
            background-color: #f8fafc;
        }
        .weather-card {
            transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            animation: fadeIn 0.8s ease-in-out;
            transform-origin: center;
            color: #1a202c; /* Ensure text color is dark and readable */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .forecast-card {
            background: linear-gradient(120deg, #f0f9ff 0%, #e0f2fe 100%);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
        }
        .forecast-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 16px 32px rgba(0,0,0,0.2), 0 0 20px rgba(255, 255, 255, 0.6);
            background: linear-gradient(120deg, #e0f7ff 0%, #c4e9ff 100%);
        }
        .comment-item {
            background-color: #f9fafb;
            border-right: 4px solid #0891b2;
            transition: all 0.3s ease;
        }
        .comment-item:hover {
            background-color: #e2e8f0;
        }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #0ea5e9; border-radius: 3px; }

        .custom-select-trigger {
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
            cursor: pointer;
        }
        .custom-options-container {
            position: absolute;
            z-index: 10;
            max-height: 250px;
            overflow-y: auto;
            width: 100%;
            background-color: white;
            border: none;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            display: none;
            border-radius: 1rem;
            margin-top: 0.5rem;
        }
        .custom-option, .optgroup-label {
            padding: 1rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .custom-option:hover {
            background-color: #f1f5f9;
        }
        .custom-option.selected {
            background-color: #dbeafe;
            color: #1e40af;
            font-weight: 500;
        }
        .optgroup-label {
            font-weight: 700;
            color: #475569;
            background-color: #f8fafc;
            position: sticky;
            top: 0;
            z-index: 1;
        }
        .animate-pulse-slow {
            animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse-slow {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-6">

<header class="text-center mb-8">
    <h1 class="text-5xl font-extrabold text-white drop-shadow-lg leading-tight animate-pulse-slow">â˜€ï¸ Ù‡ÙˆØ§Ø´Ù†Ø§Ø³ÛŒ Ø§ÛŒØ±Ø§Ù† ğŸŒ§ï¸</h1>
    <p class="text-xl text-gray-200 mt-2 font-light">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ø¢Ø¨â€ŒÙˆÙ‡ÙˆØ§ Ø¨Ø±Ø§ÛŒ  ØªÙ…Ø§Ù…ÛŒ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ Ùˆ Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ù…Ù‡Ù… Ø§ÛŒØ±Ø§Ù†</p>
    <p id="datetime" class="text-gray-300 mt-4 text-sm font-light"></p>
</header>

<div class="container rounded-3xl shadow-2xl p-8 w-full max-w-6xl border-t-8 border-cyan-500">
    <div class="flex flex-col md:flex-row justify-center items-center mb-6">
        <div class="custom-select-wrapper w-full md:w-2/3 lg:w-1/2 relative">
            <div id="selectTrigger" class="custom-select-trigger bg-white rounded-full py-4 px-6 text-lg font-medium text-gray-700 focus:outline-none focus:ring-4 focus:ring-blue-300">
                <span id="selectedOptionText">-- Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø±/Ø§Ø³ØªØ§Ù† --</span>
                <i class="fas fa-chevron-down text-gray-400 text-sm mr-2 transition-transform duration-300 transform"></i>
            </div>
            <div id="optionsContainer" class="custom-options-container rounded-2xl">
                <input id="searchInput" type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ù‡Ø±..." class="w-full p-4 border-b border-gray-200 sticky top-0 bg-white rounded-t-2xl focus:outline-none">
                <div id="optionsList"></div>
            </div>
        </div>
        <input type="hidden" id="citySelect" name="city">
        <button onclick="getWeather()" class="w-full md:w-1/3 lg:w-1/4 mt-4 md:mt-0 md:mr-4 bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white py-4 px-6 rounded-full shadow-lg font-bold transition duration-300 ease-in-out flex items-center justify-center">
            <i class="fas fa-search ml-2"></i> Ù†Ù…Ø§ÛŒØ´ Ø¢Ø¨â€ŒÙˆÙ‡ÙˆØ§
        </button>
    </div>

    <div id="weatherResult" class="mt-8 hidden opacity-0 transition-opacity duration-500 ease-in-out">
        <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-cyan-400 pb-2 text-center">ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ</h2>
        <div id="currentWeather" class="weather-card bg-white p-8 rounded-3xl shadow-xl mb-8 flex flex-col sm:flex-row justify-around items-center space-y-6 sm:space-y-0 text-center relative"></div>

        <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-cyan-400 pb-2 text-center">Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ûµ Ø±ÙˆØ² Ø¢ÛŒÙ†Ø¯Ù‡</h2>
        <div id="forecast" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6"></div>
    </div>

    <div class="mt-12 pt-6 border-t border-gray-300">
        <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center">ğŸ’¬ Ù†Ø¸Ø±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h2>
        <div class="flex flex-col sm:flex-row mb-4">
            <input id="commentInput" type="text" placeholder="Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..." class="flex-grow p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            <button onclick="addComment()" class="mt-2 sm:mt-0 sm:mr-2 bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-3 rounded-lg font-semibold transition duration-300 ease-in-out flex items-center justify-center">
                <i class="fas fa-paper-plane ml-2"></i> Ø§Ø±Ø³Ø§Ù„
            </button>
        </div>
        <div id="commentsList" class="mt-4 space-y-4 max-h-80 overflow-y-auto pl-2"></div>
    </div>
</div>

<footer class="mt-12 text-gray-300 font-semibold text-center drop-shadow-lg">
    <p>&copy; Ø·Ø±Ø§Ø­ÛŒ: Ø§Ø¨ÙˆØ§Ù„ÙØ¶Ù„ Ø´Ø§Ù‡Ù…ÛŒØ±Ø²Ø§ÛŒÛŒ Ø³Ø§Ù„ Û±Û´Û°Û´</p>
    <p class="text-sm">Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ø§Ø² API WeatherAPI.com Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ â¤ï¸</p>
</footer>

<script>
    // ------------------ ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª ------------------
    setInterval(() => {
        const now = new Date();
        document.getElementById("datetime").innerText =
            now.toLocaleString('fa-IR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
                                         hour: '2-digit', minute: '2-digit', second: '2-digit' });
    }, 1000);

    // ------------------ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ Ùˆ Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ù…Ù‡Ù… ------------------
    const iranProvinces = {
        "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ":["ØªØ¨Ø±ÛŒØ²","Ù…Ø±Ø§ØºÙ‡","Ù…Ø±Ù†Ø¯","Ø¨Ù†Ø§Ø¨","Ù…ÛŒØ§Ù†Ù‡","Ø§Ù‡Ø±","Ø³Ø±Ø§Ø¨","Ø´Ø¨Ø³ØªØ±","Ø§Ø³Ú©Ùˆ","Ø¬Ù„ÙØ§","Ù‡Ø´ØªØ±ÙˆØ¯"],
        "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ":["Ø§Ø±ÙˆÙ…ÛŒÙ‡","Ø®ÙˆÛŒ","Ù…Ù‡Ø§Ø¨Ø§Ø¯","Ø¨ÙˆÚ©Ø§Ù†","Ù¾ÛŒØ±Ø§Ù†Ø´Ù‡Ø±","Ù…ÛŒØ§Ù†Ø¯ÙˆØ¢Ø¨","Ø³Ø±Ø¯Ø´Øª","Ù…Ø§Ú©Ùˆ","Ù†Ù‚Ø¯Ù‡","Ø³Ù„Ù…Ø§Ø³"],
        "Ø§Ø±Ø¯Ø¨ÛŒÙ„":["Ø§Ø±Ø¯Ø¨ÛŒÙ„","Ù¾Ø§Ø±Ø³â€ŒØ¢Ø¨Ø§Ø¯","Ø®Ù„Ø®Ø§Ù„","Ù…Ø´Ú¯ÛŒÙ†â€ŒØ´Ù‡Ø±","Ù†Ù…ÛŒÙ†","Ø¨ÛŒÙ„Ù‡â€ŒØ³ÙˆØ§Ø±","Ø³Ø±Ø¹ÛŒÙ†","Ù†ÛŒØ±","Ú©ÙˆØ«Ø±"],
        "Ø§ØµÙÙ‡Ø§Ù†":["Ø§ØµÙÙ‡Ø§Ù†","Ú©Ø§Ø´Ø§Ù†","Ù†Ø¬Ùâ€ŒØ¢Ø¨Ø§Ø¯","Ø´Ù‡Ø±Ø¶Ø§","Ù…Ø¨Ø§Ø±Ú©Ù‡","Ú¯Ù„Ù¾Ø§ÛŒÚ¯Ø§Ù†","Ù†Ø·Ù†Ø²","ÙÙˆÙ„Ø§Ø¯Ø´Ù‡Ø±","Ø´Ø§Ù‡ÛŒÙ†â€ŒØ´Ù‡Ø±","ÙÙ„Ø§ÙˆØ±Ø¬Ø§Ù†"],
        "Ø§Ù„Ø¨Ø±Ø²":["Ú©Ø±Ø¬","Ø·Ø§Ù„Ù‚Ø§Ù†","Ù†Ø¸Ø±Ø¢Ø¨Ø§Ø¯","Ù‡Ø´ØªÚ¯Ø±Ø¯","Ø§Ø´ØªÙ‡Ø§Ø±Ø¯","ÙØ±Ø¯ÛŒØ³","Ù…Ø§Ù‡Ø¯Ø´Øª","Ú©Ù…Ø§Ù„â€ŒØ´Ù‡Ø±","Ú†Ù‡Ø§Ø±Ø¨Ø§Øº"],
        "Ø§ÛŒÙ„Ø§Ù…":["Ø§ÛŒÙ„Ø§Ù…","Ø¯Ù‡Ù„Ø±Ø§Ù†","Ù…Ù‡Ø±Ø§Ù†","Ø¢Ø¨Ø¯Ø§Ù†Ø§Ù†","Ø§ÛŒÙˆØ§Ù†","Ø¯Ø±Ù‡â€ŒØ´Ù‡Ø±","Ø³Ø±Ø§Ø¨Ù„Ù‡","Ø¨Ø¯Ø±Ù‡","Ú†Ø±Ø¯Ø§ÙˆÙ„"],
        "Ø¨ÙˆØ´Ù‡Ø±":["Ø¨ÙˆØ´Ù‡Ø±","Ø¨Ø±Ø§Ø²Ø¬Ø§Ù†","Ú©Ù†Ú¯Ø§Ù†","Ø¬Ù…","Ú¯Ù†Ø§ÙˆÙ‡","Ø¯Ø´ØªÛŒ","Ø¯ÛŒØ±","Ø¹Ø³Ù„ÙˆÛŒÙ‡","Ø®Ø§Ø±Ú©"],
        "ØªÙ‡Ø±Ø§Ù†":["ØªÙ‡Ø±Ø§Ù†","Ø´Ù‡Ø±ÛŒØ§Ø±","Ø§Ø³Ù„Ø§Ù…â€ŒØ´Ù‡Ø±","Ù…Ù„Ø§Ø±Ø¯","Ù¾Ø§Ú©Ø¯Ø´Øª","ÙˆØ±Ø§Ù…ÛŒÙ†","Ø¯Ù…Ø§ÙˆÙ†Ø¯","Ø±ÛŒ","Ø´Ù…ÛŒØ±Ø§Ù†Ø§Øª","Ù¾Ø±Ø¯ÛŒØ³","Ø±Ø¨Ø§Ø·â€ŒÚ©Ø±ÛŒÙ…"],
        "Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ":["Ø´Ù‡Ø±Ú©Ø±Ø¯","Ø¨Ø±ÙˆØ¬Ù†","Ù„Ø±Ø¯Ú¯Ø§Ù†","ÙØ±Ø®Ø´Ù‡Ø±","Ø³Ø§Ù…Ø§Ù†","Ù‡ÙØ´Ø¬Ø§Ù†","Ú©ÛŒØ§Ø±","ÙØ§Ø±Ø³Ø§Ù†"],
        "Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ":["Ø¨ÛŒØ±Ø¬Ù†Ø¯","Ù‚Ø§Ø¦Ù†","ÙØ±Ø¯ÙˆØ³","Ø³Ø±Ø§ÛŒØ§Ù†","Ø·Ø¨Ø³","Ù†Ù‡Ø¨Ù†Ø¯Ø§Ù†","Ø¨Ø´Ø±ÙˆÛŒÙ‡","Ø³Ø±Ø¨ÛŒØ´Ù‡"],
        "Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ":["Ù…Ø´Ù‡Ø¯","Ù†ÛŒØ´Ø§Ø¨ÙˆØ±","Ø³Ø¨Ø²ÙˆØ§Ø±","ØªØ±Ø¨Øªâ€ŒØ­ÛŒØ¯Ø±ÛŒÙ‡","Ø¨Ø±Ø¯Ø³Ú©Ù†","ÙØ±ÛŒÙ…Ø§Ù†","Ú¯Ù†Ø§Ø¨Ø§Ø¯","Ù‚ÙˆÚ†Ø§Ù†","Ú©Ø§Ø´Ù…Ø±","Ø®ÙˆØ§Ù"],
        "Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ":["Ø¨Ø¬Ù†ÙˆØ±Ø¯","Ø´ÛŒØ±ÙˆØ§Ù†","Ø§Ø³ÙØ±Ø§ÛŒÙ†","Ø¬Ø§Ø¬Ø±Ù…","Ù…Ø§Ù†Ù‡","ÙØ§Ø±ÙˆØ¬","Ø±Ø§Ø²","Ú¯Ø±Ù…Ù‡"],
        "Ø®ÙˆØ²Ø³ØªØ§Ù†":["Ø§Ù‡ÙˆØ§Ø²","Ø¯Ø²ÙÙˆÙ„","Ø¢Ø¨Ø§Ø¯Ø§Ù†","Ø§Ù†Ø¯ÛŒÙ…Ø´Ú©","Ø®Ø±Ù…Ø´Ù‡Ø±","Ù…Ø§Ù‡Ø´Ù‡Ø±","Ø¨Ù‡Ø¨Ù‡Ø§Ù†","Ù…Ø³Ø¬Ø¯Ø³Ù„ÛŒÙ…Ø§Ù†","Ø§ÛŒØ°Ù‡","Ø´ÙˆØ´ØªØ±"],
        "Ø²Ù†Ø¬Ø§Ù†":["Ø²Ù†Ø¬Ø§Ù†","Ø§Ø¨Ù‡Ø±","Ø®Ø±Ù…Ø¯Ø±Ù‡","Ù‚ÛŒØ¯Ø§Ø±","Ù‡ÛŒØ¯Ø¬","Ø³Ù„Ø·Ø§Ù†ÛŒÙ‡","Ø²Ø±ÛŒÙ†â€ŒØ±ÙˆØ¯","Ù…Ø§Ù‡Ù†Ø´Ø§Ù†"],
        "Ø³Ù…Ù†Ø§Ù†":["Ø³Ù…Ù†Ø§Ù†","Ø´Ø§Ù‡Ø±ÙˆØ¯","Ø¯Ø§Ù…ØºØ§Ù†","Ú¯Ø±Ù…Ø³Ø§Ø±","Ù…Ù‡Ø¯ÛŒâ€ŒØ´Ù‡Ø±","Ø¢Ø±Ø§Ø¯Ø§Ù†","Ø³Ø±Ø®Ù‡","Ø´Ù‡Ù…ÛŒØ±Ø²Ø§Ø¯"],
        "Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†":["Ø²Ø§Ù‡Ø¯Ø§Ù†","Ø²Ø§Ø¨Ù„","Ø§ÛŒØ±Ø§Ù†Ø´Ù‡Ø±","Ú†Ø§Ø¨Ù‡Ø§Ø±","Ø®Ø§Ø´","Ø³Ø±Ø§ÙˆØ§Ù†","Ù†ÛŒÚ©â€ŒØ´Ù‡Ø±","Ú©Ù†Ø§Ø±Ú©","Ø³Ø±Ø¨Ø§Ø²"],
        "ÙØ§Ø±Ø³":["Ø´ÛŒØ±Ø§Ø²","Ù…Ø±ÙˆØ¯Ø´Øª","Ø¬Ù‡Ø±Ù…","ÙØ³Ø§","Ù„Ø§Ø±","Ú©Ø§Ø²Ø±ÙˆÙ†","Ø¯Ø§Ø±Ø§Ø¨","Ø§Ù‚Ù„ÛŒØ¯","ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯","Ø§Ø³ØªÙ‡Ø¨Ø§Ù†"],
        "Ù‚Ø²ÙˆÛŒÙ†":["Ù‚Ø²ÙˆÛŒÙ†","ØªØ§Ú©Ø³ØªØ§Ù†","Ø§Ù„ÙˆÙ†Ø¯","Ù…Ø­Ù…Ø¯ÛŒÙ‡","Ø¢Ø¨ÛŒÚ©","Ø¨ÙˆÛŒÛŒÙ†â€ŒØ²Ù‡Ø±Ø§","Ø§Ù‚Ø¨Ø§Ù„ÛŒÙ‡","Ø´Ø±ÛŒÙÛŒÙ‡"],
        "Ù‚Ù…":["Ù‚Ù…","Ø¬Ø¹ÙØ±ÛŒÙ‡","Ú©Ù‡Ú©","Ø³Ù„ÙÚ†Ú¯Ø§Ù†","Ø¯Ø³ØªØ¬Ø±Ø¯","Ù‚Ù†ÙˆØ§Øª","Ú©ÙˆØ´Ú© Ù†ØµØ±Øª"],
        "Ú©Ø±Ø¯Ø³ØªØ§Ù†":["Ø³Ù†Ù†Ø¯Ø¬","Ø³Ù‚Ø²","Ù…Ø±ÛŒÙˆØ§Ù†","Ø¨Ø§Ù†Ù‡","Ù‚Ø±ÙˆÙ‡","Ú©Ø§Ù…ÛŒØ§Ø±Ø§Ù†","Ø¯ÛŒÙˆØ§Ù†Ø¯Ø±Ù‡","Ø³Ø±ÙˆØ¢Ø¨Ø§Ø¯"],
        "Ú©Ø±Ù…Ø§Ù†":["Ú©Ø±Ù…Ø§Ù†","Ø³ÛŒØ±Ø¬Ø§Ù†","Ø±ÙØ³Ù†Ø¬Ø§Ù†","Ø¬ÛŒØ±ÙØª","Ø¨Ù…","Ø²Ø±Ù†Ø¯","Ú©Ù‡Ù†ÙˆØ¬","Ø¨Ø§ÙØª","Ú©ÙˆÙ‡Ø¨Ù†Ø§Ù†"],
        "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡":["Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡","Ø§Ø³Ù„Ø§Ù…â€ŒØ¢Ø¨Ø§Ø¯ ØºØ±Ø¨","Ú©Ù†Ú¯Ø§ÙˆØ±","Ø³Ù†Ù‚Ø±","Ù‡Ø±Ø³ÛŒÙ†","ØµØ­Ù†Ù‡","Ø¬ÙˆØ§Ù†Ø±ÙˆØ¯","Ù‚ØµØ±Ø´ÛŒØ±ÛŒÙ†"],
        "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯":["ÛŒØ§Ø³ÙˆØ¬","Ø¯Ù‡Ø¯Ø´Øª","Ú¯Ú†Ø³Ø§Ø±Ø§Ù†","Ù„ÛŒÚ©Ú©","Ø¨Ø§Ø´Øª","Ú†Ø±Ø§Ù…","Ø³ÛŒâ€ŒØ³Ø®Øª","Ø³ÙˆÙ‚"],
        "Ú¯Ù„Ø³ØªØ§Ù†":["Ú¯Ø±Ú¯Ø§Ù†","Ú¯Ù†Ø¨Ø¯ Ú©Ø§ÙˆÙˆØ³","Ø¹Ù„ÛŒâ€ŒØ¢Ø¨Ø§Ø¯ Ú©ØªÙˆÙ„","Ø¨Ù†Ø¯Ø± ØªØ±Ú©Ù…Ù†","Ø¢Ø²Ø§Ø¯Ø´Ù‡Ø±","Ú©Ø±Ø¯Ú©ÙˆÛŒ","Ú©Ù„Ø§Ù„Ù‡","Ù…ÛŒÙ†ÙˆØ¯Ø´Øª"],
        "Ú¯ÛŒÙ„Ø§Ù†":["Ø±Ø´Øª","Ø¨Ù†Ø¯Ø± Ø§Ù†Ø²Ù„ÛŒ","Ù„Ø§Ù‡ÛŒØ¬Ø§Ù†","Ù„Ù†Ú¯Ø±ÙˆØ¯","Ø±ÙˆØ¯Ø³Ø±","Ø¢Ø³ØªØ§Ø±Ø§","ØµÙˆÙ…Ø¹Ù‡â€ŒØ³Ø±Ø§","ÙÙˆÙ…Ù†","Ø³ÛŒØ§Ù‡Ú©Ù„"],
        "Ù„Ø±Ø³ØªØ§Ù†":["Ø®Ø±Ù…â€ŒØ¢Ø¨Ø§Ø¯","Ø¨Ø±ÙˆØ¬Ø±Ø¯","Ø¯ÙˆØ±ÙˆØ¯","Ú©ÙˆÙ‡Ø¯Ø´Øª","Ø§Ù„Ø´ØªØ±","Ù†ÙˆØ±Ø¢Ø¨Ø§Ø¯","Ø§Ø²Ù†Ø§","Ù¾Ù„Ø¯Ø®ØªØ±"],
        "Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†":["Ø³Ø§Ø±ÛŒ","Ø¨Ø§Ø¨Ù„","Ø¢Ù…Ù„","Ù‚Ø§Ø¦Ù…â€ŒØ´Ù‡Ø±","Ø¨Ù‡Ø´Ù‡Ø±","Ù†ÙˆØ´Ù‡Ø±","Ú†Ø§Ù„ÙˆØ³","ØªÙ†Ú©Ø§Ø¨Ù†","Ø±Ø§Ù…Ø³Ø±","Ø¨Ø§Ø¨Ù„Ø³Ø±"],
        "Ù…Ø±Ú©Ø²ÛŒ":["Ø§Ø±Ø§Ú©","Ø³Ø§ÙˆÙ‡","Ø®Ù…ÛŒÙ†","Ù…Ø­Ù„Ø§Øª","Ø¯Ù„ÛŒØ¬Ø§Ù†","ØªÙØ±Ø´","Ø¢Ø´ØªÛŒØ§Ù†","Ø´Ø§Ø²Ù†Ø¯"],
        "Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†":["Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³","Ù…ÛŒÙ†Ø§Ø¨","Ø¯Ù‡Ø¨Ø§Ø±Ø²","Ù‚Ø´Ù…","Ú©ÛŒØ´","Ø¨Ù†Ø¯Ø± Ù„Ù†Ú¯Ù‡","Ø­Ø§Ø¬ÛŒâ€ŒØ¢Ø¨Ø§Ø¯","Ø±ÙˆØ¯Ø§Ù†","Ø¬Ø§Ø³Ú©"],
        "Ù‡Ù…Ø¯Ø§Ù†":["Ù‡Ù…Ø¯Ø§Ù†","Ù…Ù„Ø§ÛŒØ±","Ù†Ù‡Ø§ÙˆÙ†Ø¯","Ø§Ø³Ø¯Ø¢Ø¨Ø§Ø¯","ØªÙˆÛŒØ³Ø±Ú©Ø§Ù†","Ú©Ø¨ÙˆØ¯Ø±Ø¢Ù‡Ù†Ú¯","Ø±Ø²Ù†","Ø¨Ù‡Ø§Ø±"],
        "ÛŒØ²Ø¯":["ÛŒØ²Ø¯","Ù…ÛŒØ¨Ø¯","Ø§Ø±Ø¯Ú©Ø§Ù†","Ø¨Ø§ÙÙ‚","Ù…Ù‡Ø±ÛŒØ²","ØªÙØª","Ø§Ø¨Ø±Ú©ÙˆÙ‡","Ø®Ø§ØªÙ…"]
    };

    const cityNamesEn = {
        "ØªØ¨Ø±ÛŒØ²": "Tabriz", "Ù…Ø±Ø§ØºÙ‡": "Maragheh", "Ù…Ø±Ù†Ø¯": "Marand", "Ø¨Ù†Ø§Ø¨": "Bonab", "Ù…ÛŒØ§Ù†Ù‡": "Meyaneh", "Ø§Ù‡Ø±": "Ahar", "Ø³Ø±Ø§Ø¨": "Sarab", "Ø´Ø¨Ø³ØªØ±": "Shabestar", "Ø§Ø³Ú©Ùˆ": "Osku", "Ø¬Ù„ÙØ§": "Jolfa", "Ù‡Ø´ØªØ±ÙˆØ¯": "Hashtrud", "Ø§Ø±ÙˆÙ…ÛŒÙ‡": "Urmia", "Ø®ÙˆÛŒ": "Khoy", "Ù…Ù‡Ø§Ø¨Ø§Ø¯": "Mahabad", "Ø¨ÙˆÚ©Ø§Ù†": "Bukan", "Ù¾ÛŒØ±Ø§Ù†Ø´Ù‡Ø±": "Piranshahr", "Ù…ÛŒØ§Ù†Ø¯ÙˆØ¢Ø¨": "Miandoab", "Ø³Ø±Ø¯Ø´Øª": "Sardasht", "Ù…Ø§Ú©Ùˆ": "Maku", "Ù†Ù‚Ø¯Ù‡": "Naqadeh", "Ø³Ù„Ù…Ø§Ø³": "Salmas", "Ø§Ø±Ø¯Ø¨ÛŒÙ„": "Ardabil", "Ù¾Ø§Ø±Ø³â€ŒØ¢Ø¨Ø§Ø¯": "Parsabad", "Ø®Ù„Ø®Ø§Ù„": "Khalkhal", "Ù…Ø´Ú¯ÛŒÙ†â€ŒØ´Ù‡Ø±": "Meshginshahr", "Ù†Ù…ÛŒÙ†": "Namin", "Ø¨ÛŒÙ„Ù‡â€ŒØ³ÙˆØ§Ø±": "Bilesavar", "Ø³Ø±Ø¹ÛŒÙ†": "Sareyn", "Ù†ÛŒØ±": "Neyyer", "Ú©ÙˆØ«Ø±": "Kowsar", "Ø§ØµÙÙ‡Ø§Ù†": "Isfahan", "Ú©Ø§Ø´Ø§Ù†": "Kashan", "Ù†Ø¬Ùâ€ŒØ¢Ø¨Ø§Ø¯": "Najafabad", "Ø´Ù‡Ø±Ø¶Ø§": "Shahreza", "Ù…Ø¨Ø§Ø±Ú©Ù‡": "Mobarekeh", "Ú¯Ù„Ù¾Ø§ÛŒÚ¯Ø§Ù†": "Golpayegan", "Ù†Ø·Ù†Ø²": "Natanz", "ÙÙˆÙ„Ø§Ø¯Ø´Ù‡Ø±": "Fouladshahr", "Ø´Ø§Ù‡ÛŒÙ†â€ŒØ´Ù‡Ø±": "Shahinsahr", "ÙÙ„Ø§ÙˆØ±Ø¬Ø§Ù†": "Falavarjan", "Ú©Ø±Ø¬": "Karaj", "Ø·Ø§Ù„Ù‚Ø§Ù†": "Taleqan", "Ù†Ø¸Ø±Ø¢Ø¨Ø§Ø¯": "Nazarabad", "Ù‡Ø´ØªÚ¯Ø±Ø¯": "Hashtgerd", "Ø§Ø´ØªÙ‡Ø§Ø±Ø¯": "Eshtehard", "ÙØ±Ø¯ÛŒØ³": "Fardis", "Ù…Ø§Ù‡Ø¯Ø´Øª": "Mahdasht", "Ú©Ù…Ø§Ù„â€ŒØ´Ù‡Ø±": "Kamalshahr", "Ú†Ù‡Ø§Ø±Ø¨Ø§Øº": "ChaharbÄgh", "Ø§ÛŒÙ„Ø§Ù…": "Ilam", "Ø¯Ù‡Ù„Ø±Ø§Ù†": "Dehloran", "Ù…Ù‡Ø±Ø§Ù†": "Mehran", "Ø¢Ø¨Ø¯Ø§Ù†Ø§Ù†": "Abdanan", "Ø§ÛŒÙˆØ§Ù†": "Eyvan", "Ø¯Ø±Ù‡â€ŒØ´Ù‡Ø±": "Darreh Shahr", "Ø³Ø±Ø§Ø¨Ù„Ù‡": "Sarableh", "Ø¨Ø¯Ø±Ù‡": "Badreh", "Ú†Ø±Ø¯Ø§ÙˆÙ„": "Chardavol", "Ø¨ÙˆØ´Ù‡Ø±": "Bushehr", "Ø¨Ø±Ø§Ø²Ø¬Ø§Ù†": "Borazjan", "Ú©Ù†Ú¯Ø§Ù†": "Kangan", "Ø¬Ù…": "Jam", "Ú¯Ù†Ø§ÙˆÙ‡": "Genaveh", "Ø¯Ø´ØªÛŒ": "Dashti", "Ø¯ÛŒØ±": "Dayyer", "Ø¹Ø³Ù„ÙˆÛŒÙ‡": "Asaluyeh", "Ø®Ø§Ø±Ú©": "Kharg", "ØªÙ‡Ø±Ø§Ù†": "Tehran", "Ø´Ù‡Ø±ÛŒØ§Ø±": "Shahriar", "Ø§Ø³Ù„Ø§Ù…â€ŒØ´Ù‡Ø±": "Eslamshahr", "Ù…Ù„Ø§Ø±Ø¯": "Malard", "Ù¾Ø§Ú©Ø¯Ø´Øª": "Pakdasht", "ÙˆØ±Ø§Ù…ÛŒÙ†": "Varamin", "Ø¯Ù…Ø§ÙˆÙ†Ø¯": "Damavand", "Ø±ÛŒ": "Ray", "Ø´Ù…ÛŒØ±Ø§Ù†Ø§Øª": "Shemiranat", "Ù¾Ø±Ø¯ÛŒØ³": "Pardis", "Ø±Ø¨Ø§Ø·â€ŒÚ©Ø±ÛŒÙ…": "Robat Karim", "Ø´Ù‡Ø±Ú©Ø±Ø¯": "Shahrekord", "Ø¨Ø±ÙˆØ¬Ù†": "Borujen", "Ù„Ø±Ø¯Ú¯Ø§Ù†": "Lordegan", "ÙØ±Ø®Ø´Ù‡Ø±": "Farrokh Shahr", "Ø³Ø§Ù…Ø§Ù†": "Saman", "Ù‡ÙØ´Ø¬Ø§Ù†": "Hafshejan", "Ú©ÛŒØ§Ø±": "Kiar", "ÙØ§Ø±Ø³Ø§Ù†": "Farsan", "Ø¨ÛŒØ±Ø¬Ù†Ø¯": "Birjand", "Ù‚Ø§Ø¦Ù†": "Qaen", "ÙØ±Ø¯ÙˆØ³": "Ferdows", "Ø³Ø±Ø§ÛŒØ§Ù†": "Sarayan", "Ø·Ø¨Ø³": "Tabas", "Ù†Ù‡Ø¨Ù†Ø¯Ø§Ù†": "Nehbandan", "Ø¨Ø´Ø±ÙˆÛŒÙ‡": "Boshruyeh", "Ø³Ø±Ø¨ÛŒØ´Ù‡": "SarbishÃ©", "Ù…Ø´Ù‡Ø¯": "Mashhad", "Ù†ÛŒØ´Ø§Ø¨ÙˆØ±": "Nishabur", "Ø³Ø¨Ø²ÙˆØ§Ø±": "Sabzevar", "ØªØ±Ø¨Øªâ€ŒØ­ÛŒØ¯Ø±ÛŒÙ‡": "Torbat-e Heydarieh", "Ø¨Ø±Ø¯Ø³Ú©Ù†": "Bardaskan", "ÙØ±ÛŒÙ…Ø§Ù†": "Fariman", "Ú¯Ù†Ø§Ø¨Ø§Ø¯": "Gonabad", "Ù‚ÙˆÚ†Ø§Ù†": "Quchan", "Ú©Ø§Ø´Ù…Ø±": "Kashmar", "Ø®ÙˆØ§Ù": "Khaf", "Ø¨Ø¬Ù†ÙˆØ±Ø¯": "Bojnord", "Ø´ÛŒØ±ÙˆØ§Ù†": "Shirvan", "Ø§Ø³ÙØ±Ø§ÛŒÙ†": "Esfarayen", "Ø¬Ø§Ø¬Ø±Ù…": "Jajarm", "Ù…Ø§Ù†Ù‡": "Maneh", "ÙØ§Ø±ÙˆØ¬": "Faruj", "Ø±Ø§Ø²": "Raz", "Ú¯Ø±Ù…Ù‡": "Garmeh", "Ø§Ù‡ÙˆØ§Ø²": "Ahvaz", "Ø¯Ø²ÙÙˆÙ„": "Dezful", "Ø¢Ø¨Ø§Ø¯Ø§Ù†": "Abadan", "Ø§Ù†Ø¯ÛŒÙ…Ø´Ú©": "Andimeshk", "Ø®Ø±Ù…Ø´Ù‡Ø±": "Khorramshahr", "Ù…Ø§Ù‡Ø´Ù‡Ø±": "Mahshahr", "Ø¨Ù‡Ø¨Ù‡Ø§Ù†": "Behbahan", "Ù…Ø³Ø¬Ø¯Ø³Ù„ÛŒÙ…Ø§Ù†": "Masjed Soleyman", "Ø§ÛŒØ°Ù‡": "Izeh", "Ø´ÙˆØ´ØªØ±": "Shushtar", "Ø²Ù†Ø¬Ø§Ù†": "Zanjan", "Ø§Ø¨Ù‡Ø±": "Abhar", "Ø®Ø±Ù…Ø¯Ø±Ù‡": "Khorramdarreh", "Ù‚ÛŒØ¯Ø§Ø±": "Qeydar", "Ù‡ÛŒØ¯Ø¬": "Hidaj", "Ø³Ù„Ø·Ø§Ù†ÛŒÙ‡": "Soltaniyeh", "Ø²Ø±ÛŒÙ†â€ŒØ±ÙˆØ¯": "Zarrin Rud", "Ù…Ø§Ù‡Ù†Ø´Ø§Ù†": "Mahneshan", "Ø³Ù…Ù†Ø§Ù†": "Semnan", "Ø´Ø§Ù‡Ø±ÙˆØ¯": "Shahroud", "Ø¯Ø§Ù…ØºØ§Ù†": "Damghan", "Ú¯Ø±Ù…Ø³Ø§Ø±": "Garmsar", "Ù…Ù‡Ø¯ÛŒâ€ŒØ´Ù‡Ø±": "Mehdishahr", "Ø¢Ø±Ø§Ø¯Ø§Ù†": "Aradan", "Ø³Ø±Ø®Ù‡": "Sorkheh", "Ø´Ù‡Ù…ÛŒØ±Ø²Ø§Ø¯": "Shahmirzad", "Ø²Ø§Ù‡Ø¯Ø§Ù†": "Zahedan", "Ø²Ø§Ø¨Ù„": "Zabol", "Ø§ÛŒØ±Ø§Ù†Ø´Ù‡Ø±": "Iranshahr", "Ú†Ø§Ø¨Ù‡Ø§Ø±": "Chabahar", "Ø®Ø§Ø´": "Khash", "Ø³Ø±Ø§ÙˆØ§Ù†": "Saravan", "Ù†ÛŒÚ©â€ŒØ´Ù‡Ø±": "Nikshahr", "Ú©Ù†Ø§Ø±Ú©": "Konarak", "Ø³Ø±Ø¨Ø§Ø²": "Sarbaz", "Ø´ÛŒØ±Ø§Ø²": "Shiraz", "Ù…Ø±ÙˆØ¯Ø´Øª": "Marvdasht", "Ø¬Ù‡Ø±Ù…": "Jahrom", "ÙØ³Ø§": "Fasa", "Ù„Ø§Ø±": "Lar", "Ú©Ø§Ø²Ø±ÙˆÙ†": "Kazeroon", "Ø¯Ø§Ø±Ø§Ø¨": "Darab", "Ø§Ù‚Ù„ÛŒØ¯": "Eqlid", "ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯": "Firuzabad", "Ø§Ø³ØªÙ‡Ø¨Ø§Ù†": "Estahban", "Ù‚Ø²ÙˆÛŒÙ†": "Qazvin", "ØªØ§Ú©Ø³ØªØ§Ù†": "Takestan", "Ø§Ù„ÙˆÙ†Ø¯": "Alvand", "Ù…Ø­Ù…Ø¯ÛŒÙ‡": "Mohammadieh", "Ø¢Ø¨ÛŒÚ©": "Abyek", "Ø¨ÙˆÛŒÛŒÙ†â€ŒØ²Ù‡Ø±Ø§": "Buin Zahra", "Ø§Ù‚Ø¨Ø§Ù„ÛŒÙ‡": "Iqbalieh", "Ø´Ø±ÛŒÙÛŒÙ‡": "Sharifabad", "Ù‚Ù…": "Qom", "Ø¬Ø¹ÙØ±ÛŒÙ‡": "Jafariyeh", "Ú©Ù‡Ú©": "Kahak", "Ø³Ù„ÙÚ†Ú¯Ø§Ù†": "Salafchegan", "Ø¯Ø³ØªØ¬Ø±Ø¯": "Dastjerd", "Ù‚Ù†ÙˆØ§Øª": "Qanavat", "Ú©ÙˆØ´Ú© Ù†ØµØ±Øª": "Kushk-e Nosrat", "Ø³Ù†Ù†Ø¯Ø¬": "Sanandaj", "Ø³Ù‚Ø²": "Saqqez", "Ù…Ø±ÛŒÙˆØ§Ù†": "Marivan", "Ø¨Ø§Ù†Ù‡": "Baneh", "Ù‚Ø±ÙˆÙ‡": "Qorveh", "Ú©Ø§Ù…ÛŒØ§Ø±Ø§Ù†": "Kamyaran", "Ø¯ÛŒÙˆØ§Ù†Ø¯Ø±Ù‡": "Divandarreh", "Ø³Ø±ÙˆØ¢Ø¨Ø§Ø¯": "Sarvabad", "Ú©Ø±Ù…Ø§Ù†": "Kerman", "Ø³ÛŒØ±Ø¬Ø§Ù†": "Sirjan", "Ø±ÙØ³Ù†Ø¬Ø§Ù†": "Rafsanjan", "Ø¬ÛŒØ±ÙØª": "Jiroft", "Ø¨Ù…": "Bam", "Ø²Ø±Ù†Ø¯": "Zarand", "Ú©Ù‡Ù†ÙˆØ¬": "Kahnuj", "Ø¨Ø§ÙØª": "Baft", "Ú©ÙˆÙ‡Ø¨Ù†Ø§Ù†": "Kuhbanan", "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡": "Kermanshah", "Ø§Ø³Ù„Ø§Ù…â€ŒØ¢Ø¨Ø§Ø¯ ØºØ±Ø¨": "Islamabad-e Gharb", "Ú©Ù†Ú¯Ø§ÙˆØ±": "Kangavar", "Ø³Ù†Ù‚Ø±": "Sonqor", "Ù‡Ø±Ø³ÛŒÙ†": "Harsin", "ØµØ­Ù†Ù‡": "Sahneh", "Ø¬ÙˆØ§Ù†Ø±ÙˆØ¯": "Javanrud", "Ù‚ØµØ±Ø´ÛŒØ±ÛŒÙ†": "Qasr-e Shirin", "ÛŒØ§Ø³ÙˆØ¬": "Yasuj", "Ø¯Ù‡Ø¯Ø´Øª": "Dehdasht", "Ú¯Ú†Ø³Ø§Ø±Ø§Ù†": "Gachsaran", "Ù„ÛŒÚ©Ú©": "Likak", "Ø¨Ø§Ø´Øª": "Basht", "Ú†Ø±Ø§Ù…": "Charam", "Ø³ÛŒâ€ŒØ³Ø®Øª": "Sisikht", "Ø³ÙˆÙ‚": "Suq", "Ú¯Ø±Ú¯Ø§Ù†": "Gorgan", "Ú¯Ù†Ø¨Ø¯ Ú©Ø§ÙˆÙˆØ³": "Gonbad-e Kavus", "Ø¹Ù„ÛŒâ€ŒØ¢Ø¨Ø§Ø¯ Ú©ØªÙˆÙ„": "Aliabad-e Katul", "Ø¨Ù†Ø¯Ø± ØªØ±Ú©Ù…Ù†": "Bandar-e Torkaman", "Ø¢Ø²Ø§Ø¯Ø´Ù‡Ø±": "Azadshahr", "Ú©Ø±Ø¯Ú©ÙˆÛŒ": "Kordkuy", "Ú©Ù„Ø§Ù„Ù‡": "Kalaleh", "Ù…ÛŒÙ†ÙˆØ¯Ø´Øª": "Minudasht", "Ø±Ø´Øª": "Rasht", "Ø¨Ù†Ø¯Ø± Ø§Ù†Ø²Ù„ÛŒ": "Bandar-e Anzali", "Ù„Ø§Ù‡ÛŒØ¬Ø§Ù†": "Lahijan", "Ù„Ù†Ú¯Ø±ÙˆØ¯": "Langerud", "Ø±ÙˆØ¯Ø³Ø±": "Rudsar", "Ø¢Ø³ØªØ§Ø±Ø§": "Astara", "ØµÙˆÙ…Ø¹Ù‡â€ŒØ³Ø±Ø§": "Sowme'eh Sara", "ÙÙˆÙ…Ù†": "Fuman", "Ø³ÛŒØ§Ù‡Ú©Ù„": "Siahkal", "Ø®Ø±Ù…â€ŒØ¢Ø¨Ø§Ø¯": "Khorramabad", "Ø¨Ø±ÙˆØ¬Ø±Ø¯": "Borujerd", "Ø¯ÙˆØ±ÙˆØ¯": "Dorud", "Ú©ÙˆÙ‡Ø¯Ø´Øª": "Kuhdasht", "Ø§Ù„Ø´ØªØ±": "Alishtar", "Ù†ÙˆØ±Ø¢Ø¨Ø§Ø¯": "Nurabad", "Ø§Ø²Ù†Ø§": "Azna", "Ù¾Ù„Ø¯Ø®ØªØ±": "Pol-e Dokhtar", "Ø³Ø§Ø±ÛŒ": "Sari", "Ø¨Ø§Ø¨Ù„": "Babol", "Ø¢Ù…Ù„": "Amol", "Ù‚Ø§Ø¦Ù…â€ŒØ´Ù‡Ø±": "Qaem Shahr", "Ø¨Ù‡Ø´Ù‡Ø±": "Behshahr", "Ù†ÙˆØ´Ù‡Ø±": "Nowshahr", "Ú†Ø§Ù„ÙˆØ³": "Chalus", "ØªÙ†Ú©Ø§Ø¨Ù†": "Tonekabon", "Ø±Ø§Ù…Ø³Ø±": "Ramsar", "Ø¨Ø§Ø¨Ù„Ø³Ø±": "Babolsar", "Ø§Ø±Ø§Ú©": "Arak", "Ø³Ø§ÙˆÙ‡": "Saveh", "Ø®Ù…ÛŒÙ†": "Khomein", "Ù…Ø­Ù„Ø§Øª": "Mahallat", "Ø¯Ù„ÛŒØ¬Ø§Ù†": "Delijan", "ØªÙØ±Ø´": "Tafresh", "Ø¢Ø´ØªÛŒØ§Ù†": "Ashtian", "Ø´Ø§Ø²Ù†Ø¯": "Shazand", "Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³": "Bandar Abbas", "Ù…ÛŒÙ†Ø§Ø¨": "Minab", "Ø¯Ù‡Ø¨Ø§Ø±Ø²": "Dehbarz", "Ù‚Ø´Ù…": "Qeshm", "Ú©ÛŒØ´": "Kish", "Ø¨Ù†Ø¯Ø± Ù„Ù†Ú¯Ù‡": "Bandar-e Lengeh", "Ø­Ø§Ø¬ÛŒâ€ŒØ¢Ø¨Ø§Ø¯": "Hajiabad", "Ø±ÙˆØ¯Ø§Ù†": "Rudan", "Ø¬Ø§Ø³Ú©": "Jask", "Ù‡Ù…Ø¯Ø§Ù†": "Hamadan", "Ù…Ù„Ø§ÛŒØ±": "Malayer", "Ù†Ù‡Ø§ÙˆÙ†Ø¯": "Nahavand", "Ø§Ø³Ø¯Ø¢Ø¨Ø§Ø¯": "Asadabad", "ØªÙˆÛŒØ³Ø±Ú©Ø§Ù†": "Tuyserkan", "Ú©Ø¨ÙˆØ¯Ø±Ø¢Ù‡Ù†Ú¯": "Kabudrahang", "Ø±Ø²Ù†": "Razan", "Ø¨Ù‡Ø§Ø±": "Bahar", "ÛŒØ²Ø¯": "Yazd", "Ù…ÛŒØ¨Ø¯": "Meybod", "Ø§Ø±Ø¯Ú©Ø§Ù†": "Ardakan", "Ø¨Ø§ÙÙ‚": "Bafq", "Ù…Ù‡Ø±ÛŒØ²": "Mahriz", "ØªÙØª": "Taft", "Ø§Ø¨Ø±Ú©ÙˆÙ‡": "Abarkuh", "Ø®Ø§ØªÙ…": "Khatam"
    };

    const provinceCentersEn = {
        "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ": "Tabriz", "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ": "Urmia", "Ø§Ø±Ø¯Ø¨ÛŒÙ„": "Ardabil", "Ø§ØµÙÙ‡Ø§Ù†": "Isfahan", "Ø§Ù„Ø¨Ø±Ø²": "Karaj", "Ø§ÛŒÙ„Ø§Ù…": "Ilam", "Ø¨ÙˆØ´Ù‡Ø±": "Bushehr", "ØªÙ‡Ø±Ø§Ù†": "Tehran", "Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ": "Shahrekord", "Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ": "Birjand", "Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ": "Mashhad", "Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ": "Bojnord", "Ø®ÙˆØ²Ø³ØªØ§Ù†": "Ahvaz", "Ø²Ù†Ø¬Ø§Ù†": "Zanjan", "Ø³Ù…Ù†Ø§Ù†": "Semnan", "Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†": "Zahedan", "ÙØ§Ø±Ø³": "Shiraz", "Ù‚Ø²ÙˆÛŒÙ†": "Qazvin", "Ù‚Ù…": "Qom", "Ú©Ø±Ø¯Ø³ØªØ§Ù†": "Sanandaj", "Ú©Ø±Ù…Ø§Ù†": "Kerman", "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡": "Kermanshah", "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯": "Yasuj", "Ú¯Ù„Ø³ØªØ§Ù†": "Gorgan", "Ú¯ÛŒÙ„Ø§Ù†": "Rasht", "Ù„Ø±Ø³ØªØ§Ù†": "Khorramabad", "Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†": "Sari", "Ù…Ø±Ú©Ø²ÛŒ": "Arak", "Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†": "Bandar Abbas", "Ù‡Ù…Ø¯Ø§Ù†": "Hamadan", "ÛŒØ²Ø¯": "Yazd"
    };

    // ------------------ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø±Ø§Ù¾â€ŒØ¯Ø§ÙˆÙ† Ú©Ø§Ø³ØªÙˆÙ… ------------------
    const selectWrapper = document.querySelector('.custom-select-wrapper');
    const selectTrigger = document.getElementById('selectTrigger');
    const optionsContainer = document.getElementById('optionsContainer');
    const selectedOptionText = document.getElementById('selectedOptionText');
    const hiddenInput = document.getElementById('citySelect');
    const optionsList = document.getElementById('optionsList');
    const searchInput = document.getElementById('searchInput');

    function populateSelect() {
        optionsList.innerHTML = '';
        for(const province in iranProvinces){
            const optgroupLabel = document.createElement("div");
            optgroupLabel.className = "optgroup-label";
            optgroupLabel.textContent = province;
            optionsList.appendChild(optgroupLabel);
            
            const provinceOption = document.createElement("div");
            provinceOption.className = "custom-option";
            provinceOption.textContent = province;
            provinceOption.setAttribute('data-value', province);
            provinceOption.addEventListener('click', () => {
                selectOption(province);
            });
            optionsList.appendChild(provinceOption);

            iranProvinces[province].forEach(city => {
                const optionDiv = document.createElement("div");
                optionDiv.className = "custom-option";
                optionDiv.textContent = city;
                optionDiv.setAttribute('data-value', city);
                optionDiv.addEventListener('click', () => {
                    selectOption(city);
                });
                optionsList.appendChild(optionDiv);
            });
        }
    }

    function selectOption(city) {
        selectedOptionText.textContent = city;
        hiddenInput.value = city;
        optionsContainer.style.display = 'none';
        const options = document.querySelectorAll('.custom-option');
        options.forEach(option => {
            option.classList.remove('selected');
        });
        const selected = document.querySelector(`[data-value="${city}"]`);
        if (selected) {
            selected.classList.add('selected');
        }
    }

    function searchSelect() {
        const filter = searchInput.value.toLowerCase();
        const options = optionsList.querySelectorAll('.custom-option');
        const labels = optionsList.querySelectorAll('.optgroup-label');

        options.forEach(option => {
            const text = option.textContent.toLowerCase();
            if (text.includes(filter)) {
                option.style.display = "";
            } else {
                option.style.display = "none";
            }
        });

        labels.forEach(label => {
            let hasVisibleOptions = false;
            let nextSibling = label.nextElementSibling;
            while(nextSibling && !nextSibling.classList.contains('optgroup-label')) {
                if(nextSibling.style.display !== 'none') {
                    hasVisibleOptions = true;
                    break;
                }
                nextSibling = nextSibling.nextElementSibling;
            }
            if (hasVisibleOptions) {
                label.style.display = "";
            } else {
                label.style.display = "none";
            }
        });
    }

    selectTrigger.addEventListener('click', (event) => {
        event.stopPropagation();
        const isVisible = optionsContainer.style.display === 'block';
        optionsContainer.style.display = isVisible ? 'none' : 'block';
        selectTrigger.querySelector('i').style.transform = isVisible ? 'rotate(0deg)' : 'rotate(180deg)';
        if(!isVisible) {
            searchInput.focus();
            searchSelect();
        }
    });

    searchInput.addEventListener('input', searchSelect);

    document.addEventListener('click', (e) => {
        if (!selectWrapper.contains(e.target)) {
            optionsContainer.style.display = 'none';
            selectTrigger.querySelector('i').style.transform = 'rotate(0deg)';
        }
    });

    document.addEventListener('DOMContentLoaded', populateSelect);

    // ------------------ API WeatherAPI.com ------------------
    const apiKey ="44fb6b68fd9f41a19a2125317252608"; // Ú©Ù„ÛŒØ¯ API Ø´Ù…Ø§

    const weatherIconMap = {
        1000: 'fas fa-sun',
        1003: 'fas fa-cloud-sun',
        1006: 'fas fa-cloud',
        1009: 'fas fa-cloud-meatball',
        1030: 'fas fa-smog',
        1063: 'fas fa-cloud-showers-heavy',
        1066: 'fas fa-snowflake',
        1069: 'fas fa-cloud-showers-heavy',
        1072: 'fas fa-cloud-rain',
        1087: 'fas fa-bolt',
        1114: 'fas fa-snowflake',
        1117: 'fas fa-wind',
        1135: 'fas fa-smog',
        1147: 'fas fa-smog',
        1150: 'fas fa-cloud-rain',
        1153: 'fas fa-cloud-rain',
        1168: 'fas fa-cloud-rain',
        1171: 'fas fa-cloud-rain',
        1180: 'fas fa-cloud-rain',
        1183: 'fas fa-cloud-rain',
        1186: 'fas fa-cloud-showers-heavy',
        1189: 'fas fa-cloud-showers-heavy',
        1192: 'fas fa-cloud-showers-heavy',
        1195: 'fas fa-cloud-showers-heavy',
        1198: 'fas fa-cloud-rain',
        1201: 'fas fa-cloud-showers-heavy',
        1204: 'fas fa-cloud-showers-heavy',
        1207: 'fas fa-cloud-showers-heavy',
        1210: 'fas fa-snowflake',
        1213: 'fas fa-snowflake',
        1216: 'fas fa-snowflake',
        1219: 'fas fa-snowflake',
        1222: 'fas fa-snowflake',
        1225: 'fas fa-snowflake',
        1237: 'fas fa-cloud-showers-heavy',
        1240: 'fas fa-cloud-rain',
        1243: 'fas fa-cloud-showers-heavy',
        1246: 'fas fa-cloud-showers-heavy',
        1249: 'fas fa-cloud-showers-heavy',
        1252: 'fas fa-cloud-showers-heavy',
        1255: 'fas fa-snowflake',
        1258: 'fas fa-snowflake',
        1261: 'fas fa-cloud-rain',
        1264: 'fas fa-cloud-showers-heavy',
        1273: 'fas fa-bolt',
        1276: 'fas fa-bolt',
        1279: 'fas fa-bolt',
        1282: 'fas fa-bolt',
    };
    
    function getWeatherBgClass(conditionText) {
        const condition = conditionText.toLowerCase();
        if (condition.includes('Ø¢ÙØªØ§Ø¨ÛŒ') || condition.includes('ØµØ§Ù')) return 'bg-gradient-to-br from-yellow-100 to-yellow-300';
        if (condition.includes('Ø§Ø¨Ø±ÛŒ') || condition.includes('Ù†ÛŒÙ…Ù‡ Ø§Ø¨Ø±ÛŒ')) return 'bg-gradient-to-br from-gray-100 to-gray-300';
        if (condition.includes('Ø¨Ø§Ø±Ø§Ù†ÛŒ') || condition.includes('Ø¨Ø§Ø±Ø§Ù†') || condition.includes('Ø±Ú¯Ø¨Ø§Ø±')) return 'bg-gradient-to-br from-blue-200 to-blue-400';
        if (condition.includes('Ø¨Ø±ÙÛŒ') || condition.includes('Ø¨Ø±Ù')) return 'bg-gradient-to-br from-white to-blue-100';
        if (condition.includes('Ù…Ù‡')) return 'bg-gradient-to-br from-gray-200 to-gray-400';
        if (condition.includes('Ø±Ø¹Ø¯ Ùˆ Ø¨Ø±Ù‚') || condition.includes('ØªÙ†Ø¯Ø±')) return 'bg-gradient-to-br from-slate-300 to-slate-500';
        return 'bg-white';
    }

    function getWeatherIconColor(conditionText) {
        const condition = conditionText.toLowerCase();
        if (condition.includes('Ø¢ÙØªØ§Ø¨ÛŒ') || condition.includes('ØµØ§Ù')) return 'text-yellow-500';
        if (condition.includes('Ø¨Ø§Ø±Ø§Ù†ÛŒ') || condition.includes('Ø¨Ø§Ø±Ø§Ù†')) return 'text-blue-600';
        if (condition.includes('Ø¨Ø±ÙÛŒ') || condition.includes('Ø¨Ø±Ù')) return 'text-sky-300';
        if (condition.includes('Ø§Ø¨Ø±ÛŒ') || condition.includes('Ù†ÛŒÙ…Ù‡ Ø§Ø¨Ø±ÛŒ')) return 'text-gray-500';
        return 'text-blue-600';
    }

    async function getWeather(){
        const selectedFaName = document.getElementById("citySelect").value;
        if(!selectedFaName) { alert("Ù„Ø·ÙØ§ ÛŒÚ© Ø´Ù‡Ø± ÛŒØ§ Ø§Ø³ØªØ§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯."); return; }

        let cityEn;
        if (provinceCentersEn[selectedFaName]) {
            cityEn = provinceCentersEn[selectedFaName];
        } else {
            cityEn = cityNamesEn[selectedFaName] || selectedFaName;
        }

        const weatherResultDiv = document.getElementById("weatherResult");
        const currentWeatherDiv = document.getElementById("currentWeather");
        const forecastDiv = document.getElementById("forecast");

        currentWeatherDiv.innerHTML = `<div class="text-center w-full"><i class="fas fa-spinner fa-spin text-5xl text-blue-500"></i><p class="mt-4 text-xl text-gray-600">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p></div>`;
        forecastDiv.innerHTML = '';
        weatherResultDiv.classList.remove('hidden');
        setTimeout(() => { weatherResultDiv.classList.remove('opacity-0'); }, 10);

        try {
            const weatherApiUrl = `https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${cityEn}&lang=fa`;
            const forecastApiUrl = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${cityEn}&days=5&lang=fa`;

            const [weatherRes, forecastRes] = await Promise.all([
                fetch(weatherApiUrl),
                fetch(forecastApiUrl)
            ]);

            if (!weatherRes.ok || !forecastRes.ok) {
                const errorData = await weatherRes.json();
                throw new Error(`Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª: ${errorData.error.message}`);
            }

            const weatherData = await weatherRes.json();
            const forecastData = await forecastRes.json();

            const weatherConditionCode = weatherData.current.condition.code;
            const weatherConditionFa = weatherData.current.condition.text;
            const weatherIconClass = weatherIconMap[weatherConditionCode] || 'fas fa-question-circle';
            const weatherBgClass = getWeatherBgClass(weatherConditionFa);
            const weatherIconColor = getWeatherIconColor(weatherConditionFa);

            currentWeatherDiv.className = `weather-card p-8 rounded-3xl shadow-xl mb-8 flex flex-col sm:flex-row justify-around items-center space-y-6 sm:space-y-0 text-center relative ${weatherBgClass}`;

            currentWeatherDiv.innerHTML = `
                <div class="flex flex-col items-center">
                    <i class="${weatherIconClass} text-8xl ${weatherIconColor} drop-shadow-lg"></i>
                    <div class="mt-4 text-center">
                        <p class="text-5xl font-extrabold text-blue-800">${weatherData.current.temp_c.toFixed(1)}Â°C</p>
                        <p class="text-lg text-gray-700">Ø¯Ù…Ø§</p>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <i class="fas fa-smog text-6xl text-gray-500"></i>
                    <div class="mt-2 text-center">
                        <p class="text-xl font-semibold capitalize text-gray-800">${weatherConditionFa}</p>
                        <p class="text-sm text-gray-600">ÙˆØ¶Ø¹ÛŒØª</p>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <i class="fas fa-tint text-6xl text-blue-400"></i>
                    <div class="mt-2 text-center">
                        <p class="text-4xl font-bold text-gray-800">${weatherData.current.humidity}%</p>
                        <p class="text-sm text-gray-600">Ø±Ø·ÙˆØ¨Øª</p>
                    </div>
                </div>
                <div class="flex flex-col items-center">
                    <i class="fas fa-wind text-6xl text-gray-400"></i>
                    <div class="mt-2 text-center">
                        <p class="text-4xl font-bold text-gray-800">${weatherData.current.wind_kph.toFixed(1)} km/h</p>
                        <p class="text-sm text-gray-600">Ø³Ø±Ø¹Øª Ø¨Ø§Ø¯</p>
                    </div>
                </div>`;

            const dailyForecast = forecastData.forecast.forecastday.slice(0, 5);
            forecastDiv.innerHTML = dailyForecast.map(day => {
                const date = new Date(day.date);
                const dayName = date.toLocaleDateString('fa-IR', { weekday: 'short' });
                const formattedDate = date.toLocaleDateString('fa-IR', { day: 'numeric', month: 'numeric' });
                const forecastIconClass = weatherIconMap[day.day.condition.code] || 'fas fa-question-circle';
                const forecastIconColor = getWeatherIconColor(day.day.condition.text);
                return `
                    <div class="forecast-card shadow-lg rounded-2xl p-6 text-center flex flex-col items-center">
                        <p class="font-bold text-lg text-gray-800">${dayName}</p>
                        <p class="text-sm text-gray-500">${formattedDate}</p>
                        <i class="${forecastIconClass} text-5xl ${forecastIconColor} my-4"></i>
                        <p class="text-2xl font-bold my-2 text-blue-800">${day.day.avgtemp_c.toFixed(1)}Â°C</p>
                        <p class="text-sm capitalize text-gray-600">${day.day.condition.text}</p>
                    </div>`;
            }).join("");
        } catch (err) {
            currentWeatherDiv.innerHTML = `<div class="text-center w-full text-red-600"><i class="fas fa-exclamation-triangle text-4xl mb-2"></i><p class="text-lg">Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª: ${err.message}</p><p class="text-sm mt-2">Ù„Ø·ÙØ§ Ø§Ø² ØµØ­Øª Ù†Ø§Ù… Ø´Ù‡Ø± Ùˆ Ú©Ù„ÛŒØ¯ API Ø®ÙˆØ¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯.</p></div>`;
            forecastDiv.innerHTML = '';
            console.error(err);
        }
    }

    // ------------------ Ú©Ø§Ù…Ù†Øªâ€ŒÙ‡Ø§ ------------------
    function loadComments(){
        const comments = JSON.parse(localStorage.getItem("comments")||"[]");
        const list = document.getElementById("commentsList");
        list.innerHTML="";
        comments.forEach((c,i)=>{
            const div = document.createElement("div");
            div.className="comment-item p-4 rounded-xl shadow-md flex justify-between items-center";
            div.innerHTML=`<span class="flex-grow ml-3 text-gray-800">${c.comment}</span>
                                 <button onclick="deleteComment(${i})" class="text-gray-400 hover:text-red-500 transition duration-300"><i class="fas fa-trash-alt"></i></button>`;
            list.appendChild(div);
        });
    }
    function addComment(){
        const input=document.getElementById("commentInput");
        const txt=input.value.trim();
        if(!txt) { alert("Ù„Ø·ÙØ§ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯."); return; }
        const comments=JSON.parse(localStorage.getItem("comments")||"[]");
        comments.push({comment:txt, date:new Date().toISOString()});
        localStorage.setItem("comments",JSON.stringify(comments));
        input.value="";
        loadComments();
    }
    function deleteComment(index){
        const comments=JSON.parse(localStorage.getItem("comments")||"[]");
        comments.splice(index,1);
        localStorage.setItem("comments",JSON.stringify(comments));
        loadComments();
    }
    window.addEventListener('load', loadComments);
</script>
</body>
</html>
